# GitHub Pages Deployment - Complete Setup Guide

## Quick Start

Your project is now configured to deploy to GitHub Pages! Follow these steps:

### Step 1: Push to GitHub
```bash
cd /Users/arunkumaraswamy/Documents/Study/requirement-analyser
git add .
git commit -m "Configure GitHub Pages deployment"
git push origin login-dev
```

### Step 2: Enable GitHub Pages
1. Go to: https://github.com/arunk2493/requirement-analyser
2. Click **Settings** ‚Üí **Pages**
3. Under "Build and deployment", select:
   - **Source**: GitHub Actions
4. Save changes

### Step 3: Monitor Deployment
1. Go to **Actions** tab
2. Watch the "Deploy to GitHub Pages" workflow run
3. Once completed (‚úÖ green checkmark), your site is live!

### Step 4: Access Your Site
Visit: **https://arunk2493.github.io/requirement-analyser/**

---

## Configuration Files Created

### 1. `.github/workflows/deploy.yml`
- Automatically builds and deploys on push to `main` or `login-dev`
- Installs dependencies
- Builds the Vite frontend
- Deploys to GitHub Pages

### 2. `frontend/vite.config.js` (Updated)
- Added `base: "/requirement-analyser/"` for correct asset paths
- Configured production build optimization

### 3. `frontend/src/api/api.js` (Updated)
- Now supports `VITE_API_BASE` environment variable
- Falls back to `http://localhost:8000` for local development

### 4. `frontend/.env.example`
- Reference file for environment variables
- Shows how to configure API base URL

---

## Backend Integration

‚ö†Ô∏è **IMPORTANT**: The frontend is deployed, but the backend still runs locally.

### Option A: Keep Backend Local (Development)
```bash
cd backend
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
python app.py
```

Backend will run at: `http://localhost:8000`

### Option B: Deploy Backend Separately
Deploy your backend to services like:
- **Heroku** (free tier limited): https://www.heroku.com/
- **Render**: https://render.com/
- **Railway**: https://railway.app/
- **DigitalOcean**: https://www.digitalocean.com/
- **AWS**: https://aws.amazon.com/

Then update the API URL:

**For development** (`frontend/.env.local`):
```
VITE_API_BASE=http://localhost:8000
```

**For production** (add to GitHub repository secrets):
```
VITE_API_BASE=https://your-deployed-backend.com
```

---

## How It Works

### GitHub Actions Workflow

```
Push to GitHub
    ‚Üì
GitHub Actions triggered
    ‚Üì
Install dependencies (npm install)
    ‚Üì
Build frontend (npm run build)
    ‚Üì
Create dist/ folder with optimized build
    ‚Üì
Upload to GitHub Pages
    ‚Üì
Available at: https://arunk2493.github.io/requirement-analyser/
```

### Frontend Structure
- **Source**: `frontend/src/` (React + Vite)
- **Build Output**: `frontend/dist/` (generated by `npm run build`)
- **GitHub Pages deploys**: The `dist/` folder content

---

## CORS Configuration

When your backend is hosted separately, add your GitHub Pages URL to CORS:

### Backend (Python Flask):
```python
from flask_cors import CORS

CORS(app, origins=[
    "http://localhost:5173",  # Development
    "https://arunk2493.github.io/requirement-analyser/",  # Production
])
```

### Backend (FastAPI):
```python
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:5173",
        "https://arunk2493.github.io/requirement-analyser/",
    ],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

---

## Troubleshooting

### Site shows "404 Not Found"
- [ ] Repository is public
- [ ] GitHub Pages is enabled in Settings
- [ ] Wait 1-2 minutes after workflow completes
- [ ] Try hard refresh (Ctrl+Shift+R or Cmd+Shift+R)

### Assets loading as 404 (CSS, JS, images)
- [ ] Check `vite.config.js` has `base: "/requirement-analyser/"`
- [ ] Rebuild: `cd frontend && npm run build`

### Backend API calls failing
- [ ] Check backend is running locally
- [ ] Verify API URL in `frontend/src/api/api.js`
- [ ] Check CORS is configured correctly
- [ ] Check browser console for error messages

### Workflow failing in GitHub Actions
1. Go to **Actions** tab
2. Click on failed workflow
3. Expand the step that failed
4. Read the error message
5. Common fixes:
   - Delete `package-lock.json` and `node_modules/`, then commit
   - Ensure `frontend/package.json` has no syntax errors
   - Check Node.js version (using 18 in workflow)

---

## Advanced: Custom Domain

To use a custom domain:

1. **Buy a domain** (Namecheap, GoDaddy, etc.)
2. **Go to repository Settings** ‚Üí **Pages**
3. Under "Custom domain", enter your domain
4. **Configure DNS** (follow GitHub's instructions)
5. **Enable HTTPS** (automatic with GitHub Pages)

---

## Local Development

```bash
# Install dependencies
cd frontend
npm install

# Start development server (http://localhost:5173)
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

---

## Environment Variables

### Development (`.env.local`)
Create this file in `frontend/` folder:
```
VITE_API_BASE=http://localhost:8000
```

### Production
Set in GitHub repository settings or action secrets.

---

## File Changes Summary

‚úÖ **Modified Files**:
- `frontend/vite.config.js` - Added base path and build config
- `frontend/src/api/api.js` - Added environment variable support

‚úÖ **New Files**:
- `.github/workflows/deploy.yml` - GitHub Actions workflow
- `frontend/.env.example` - Environment variables reference
- `GITHUB_PAGES_DEPLOYMENT.md` - Deployment documentation

---

## Next Steps

1. **Commit and push** to GitHub
2. **Monitor** the Actions tab for successful deployment
3. **Visit** https://arunk2493.github.io/requirement-analyser/
4. **Configure backend** (local or cloud)
5. **Update API URL** if backend is on different server

---

## Support

For more help:
- GitHub Pages Docs: https://docs.github.com/en/pages
- Vite Docs: https://vitejs.dev/
- React Docs: https://react.dev/

Happy deploying! üöÄ
